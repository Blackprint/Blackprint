<sf-space blackprint>
  <!-- Put the cables behind the nodes -->
  <sf-m name="cables" class="cables" id="test">
    <svg style="transform: translate(-{{space[0]}}, -{{space[1]}}px)">
      <g sf-repeat-this="x in list" class="{{ x.type }} {{ x.valid ? '' : 'invalid' }}">
        <path
            d="M {{ recalculatePath(x) || x.head1[0] + ' ' + x.head1[1] }}
               C {{ x.linePath }},
                 {{ recalculatePath(x) || x.head2[0] + ' ' + x.head2[1] }}"
        ></path>
        <circle
            @pointerdown="cableHeadClicked(x, event)"
            transform="translate({{x.head2[0]}}, {{x.head2[1]}})"
        ></circle>
      </g>
    </svg>
  </sf-m>

  <!-- Nodes goes here -->
  <sf-m name="nodes" class="nodes" style="user-select:none;">
    <!-- Handled on ./nodes.js -->
    <div sf-repeat-this="item in list">
      {{@exec
        var node;

        if(item.type === 'default')
          node = $DefaultNode;
        else{
          console.error(item, "type not found");
          @return null;
        }

        // Create from Blackprint's namespace and (true = let the item become the scope)
        @return new node(item, Blackprint.space, true); 
      }}
    </div>
  </sf-m>
</sf-space>